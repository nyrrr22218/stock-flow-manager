generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model ItemName {
  id            BigInt         @id(map: "itemName_pkey") @default(autoincrement())
  name          String         @unique(map: "itemname_itemname_key")
  order         Order?
  producedCount ProducedCount?
  stock         Stock?
}

model Log {
  id         BigInt   @id(map: "log_pkey") @default(autoincrement())
  logMessage String
  loggedAt   DateTime @default(now()) @db.Timestamptz(6)
}

model Order {
  id          BigInt   @id(map: "order_pkey") @default(autoincrement())
  orderCount  Int?
  itemName_id BigInt   @unique(map: "order_itemname_id_key")
  orderedAt   DateTime @default(now()) @db.Timestamptz(6)
  ItemName    ItemName @relation(fields: [itemName_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model ProducedCount {
  id            BigInt   @id(map: "product_pkey") @default(autoincrement())
  producedCount Int
  itemName_id   BigInt   @unique(map: "product_itemname_id_key")
  producedAt    DateTime @default(now()) @db.Timestamptz(6)
  ItemName      ItemName @relation(fields: [itemName_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model Shipment {
  id            BigInt   @id(map: "shipments_pkey") @default(autoincrement())
  orderSnapshot Json     @db.Json
  createdAt     DateTime @default(now()) @db.Timestamptz(6)
}

model Stock {
  id          BigInt   @id(map: "stock_pkey") @default(autoincrement())
  stockCount  Int
  itemName_id BigInt   @unique(map: "stock_itemname_id_key")
  ItemName    ItemName @relation(fields: [itemName_id], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
